<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>KineSphere - Dashboard</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="ion-padding">
    <!-- HEADER PERSONALIZADO -->
    <div class="custom-header">
      <div class="main-title">
        <h1>Bienvenido, {{ usuarioNombre }}</h1>
      </div>
      <div class="subtitle">
        <p>Resumen de tu actividad cl칤nica</p>
      </div>
    </div>

    <!-- TARJETAS DE ESTAD칈STICAS -->
    <ion-grid class="animated-item">
      <ion-row>
        <ion-col size="4">
          <ion-card color="primary" (click)="irAPacientes()" class="stat-card">
            <ion-card-content class="ion-text-center">
              <ion-icon name="people" size="large"></ion-icon>
              <h2>{{ totalPacientes }}</h2>
              <p>Pacientes</p>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="4">
          <ion-card color="secondary" (click)="irASesion()" class="stat-card">
            <ion-card-content class="ion-text-center">
              <ion-icon name="calendar" size="large"></ion-icon>
              <h2>{{ sesionesHoy }}</h2>
              <p>Sesiones Hoy</p>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="4">
          <ion-card color="tertiary" class="stat-card">
            <ion-card-content class="ion-text-center">
              <ion-icon name="document-text" size="large"></ion-icon>
              <h2>{{ evaluacionesPendientes }}</h2>
              <p>Evaluaciones</p>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>

    <!-- PACIENTES RECIENTES (COMPONENTE REUTILIZABLE) -->
    <ion-card class="animated-item">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="time" slot="start"></ion-icon>
          Pacientes Recientes
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <div *ngIf="pacientesRecientes.length > 0">
          <!-- COMPONENTE REUTILIZABLE PACIENTE-CARD -->
          <app-paciente-card 
            *ngFor="let paciente of pacientesRecientes; let i = index"
            [paciente]="paciente"
            [mostrarAcciones]="true"
            (verDetalle)="verDetallePaciente($event)"
            (nuevaSesion)="crearSesionParaPaciente($event)"
            class="animated-item"
            [style.animation-delay]="(i * 0.1) + 's'">
          </app-paciente-card>
        </div>
        
        <div *ngIf="pacientesRecientes.length === 0" class="ion-text-center empty-state">
          <ion-icon name="people-outline" size="large" color="medium"></ion-icon>
          <p>No hay pacientes registrados</p>
          <ion-button (click)="irAPacientes()" color="primary" fill="outline">
            Agregar Primer Paciente
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>

    <!-- ACCIONES R츼PIDAS -->
    <ion-card class="animated-item">
      <ion-card-header>
        <ion-card-title>
          <ion-icon name="flash" slot="start"></ion-icon>
          Acciones R치pidas
        </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col size="6">
              <ion-button expand="block" (click)="irAPacientes()">
                <ion-icon name="people-outline" slot="start"></ion-icon>
                Ver Pacientes
              </ion-button>
            </ion-col>
            <ion-col size="6">
              <ion-button expand="block" (click)="irASesion()">
                <ion-icon name="calendar-outline" slot="start"></ion-icon>
                Nueva Sesi칩n
              </ion-button>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="6">
              <ion-button expand="block" (click)="irAEvaluaciones()" color="tertiary" fill="outline">
                <ion-icon name="document-text-outline" slot="start"></ion-icon>
                Evaluaci칩n Final
              </ion-button>
            </ion-col>
            <ion-col size="6">
              <ion-button expand="block" (click)="irAEjercicios()" color="success" fill="outline">
                <ion-icon name="barbell-outline" slot="start"></ion-icon>
                Ejercicios
              </ion-button>
            </ion-col>
            <!-- En alguna parte de tu dashboard -->
            <ion-card>
              <ion-card-header>
                <ion-card-title>游깷 Pr치ctica APIs</ion-card-title>
              </ion-card-header>
              <ion-card-content>
                <p>Practica consumo de APIs con JSONPlaceholder</p>
                <ion-button expand="block"  (click)="goToPosts()">
                  游닇 Gestionar Posts
                </ion-button>
              </ion-card-content>
            </ion-card>
          </ion-row>
        </ion-grid>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>